"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{9376:function(e,t,s){var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},420:function(e,t,s){s.d(t,{default:function(){return u}});var r=s(7437),l=s(2265),a=s(3145),o=s(7648),i=s(9376),n=s(2943),c=s(727),d=s(9267);function u(){let e=(0,i.useRouter)(),[t,s]=(0,l.useState)("Male"),[u,m]=(0,l.useState)(""),[g,p]=(0,l.useState)(""),[x,f]=(0,l.useState)(""),[h,b]=(0,l.useState)(""),[w,y]=(0,l.useState)(!1),[v,j]=(0,l.useState)(!0),[D,N]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),I=w||!h.trim()||!x||(D?!g.trim()||!S:!u.trim()||"true"!==sessionStorage.getItem("emailVerified")),[E,V]=(0,l.useState)(!1),[T,A]=(0,l.useState)(!1),[B,L]=(0,l.useState)(""),[G,F]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(()=>{let t=sessionStorage.getItem("selectedUserType"),s=(0,n.ts)();if("brand"===t&&(null==s?void 0:s.user_type)==="brand"){console.log("Creator ProfileSetupScreen: User is confirmed brand, redirecting to brand profile setup"),e.push("/brand-profile-setup");return}"brand"===t&&(null==s?void 0:s.user_type)!=="brand"?(console.log("Creator ProfileSetupScreen: User selected brand but backend shows creator, staying on creator flow"),sessionStorage.removeItem("selectedUserType")):console.log("Creator ProfileSetupScreen: User is creator, staying on creator profile setup")})(),(()=>{let e=sessionStorage.getItem("fromGoogle"),t=sessionStorage.getItem("authProvider"),s=sessionStorage.getItem("userEmail");if(console.log("\uD83D\uDD0D ProfileSetupScreen - SessionStorage check:",{fromGoogle:e,authProvider:t,userEmail:s,userData:sessionStorage.getItem("userData")}),e||"google"===t)console.log("✅ ProfileSetupScreen - User is Google user"),N(!0),s&&(m(s),sessionStorage.setItem("emailVerified","true"),sessionStorage.setItem("verifiedEmail",s),console.log("✅ ProfileSetupScreen - Google user email automatically verified:",s));else if("mobile"===t){console.log("\uD83D\uDCF1 ProfileSetupScreen - User is mobile user"),N(!1);let e=sessionStorage.getItem("userData"),t=sessionStorage.getItem("verifiedPhone");if(e)try{let t=JSON.parse(e);t.phone&&(p(t.phone.replace("+91","")),k(!0),console.log("✅ ProfileSetupScreen - Phone set from userData:",t.phone))}catch(e){console.error("Error parsing user data:",e)}!g&&t&&(p(t.replace("+91","")),k(!0),console.log("✅ ProfileSetupScreen - Phone set from verifiedPhone fallback:",t)),console.log("\uD83D\uDCF1 ProfileSetupScreen - Final phone state:",{phone:g,isPhoneVerified:S,userData:sessionStorage.getItem("userData"),verifiedPhone:sessionStorage.getItem("verifiedPhone")})}else console.log("❓ ProfileSetupScreen - Unknown user type, defaulting to mobile"),N(!1)})(),"true"===sessionStorage.getItem("emailVerified")&&console.log("✅ ProfileSetupScreen - Email already verified in this session")},[e,S,g]),(0,l.useEffect)(()=>{u.trim()||"true"!==sessionStorage.getItem("emailVerified")||(console.log("\uD83D\uDDD1️ ProfileSetupScreen - Email cleared, removing verification status"),sessionStorage.removeItem("emailVerified"),sessionStorage.removeItem("verifiedEmail"))},[u]),(0,l.useEffect)(()=>{console.log("\uD83D\uDD04 Loading state changed to:",w)},[w]);let M=e=>{let t="An unexpected error occurred. Please try again.";e.message.includes("Authentication")?t="Your session has expired. Please sign in again.":e.message.includes("timeout")?t="The server is taking too long to respond. This might be a temporary issue. Please try again.":e.message.includes("Network error")?t="Unable to connect to the server. This might be a temporary network issue. Please try again.":e.message.includes("Validation failed")&&(t="Please check your input and try again."),alert(t)};(0,l.useEffect)(()=>{(async()=>{if(console.log("\uD83D\uDD0D ProfileSetupScreen - Checking authentication..."),!(0,n.$8)()){console.error("❌ ProfileSetupScreen - User not authenticated"),console.error("❌ User must be authenticated before accessing profile setup"),alert("Authentication required. Please sign in first."),window.location.href="/login";return}let e=(0,n.ts)();if(e)console.log("✅ ProfileSetupScreen - User authenticated:",e),console.log("\uD83D\uDD0D User type:",e.user_type),console.log("\uD83D\uDD0D User ID:",e.id),console.log("\uD83D\uDD0D User email:",e.email);else{console.error("❌ ProfileSetupScreen - Could not get user info from token"),alert("Authentication error. Please sign in again."),window.location.href="/login";return}console.log("✅ ProfileSetupScreen - Authentication validated successfully"),await (0,n.BB)()?console.log("✅ Backend health check passed"):(console.warn("⚠️ Backend health check failed - API calls may not work"),alert("Warning: The backend server appears to be unavailable. Profile creation may not work properly."));try{let t="true"===sessionStorage.getItem("isSignupFlow")||window.location.pathname.includes("signup");if(t||(null==e?void 0:e.user_type)!=="creator")t&&console.log("✅ User is in signup flow, allowing them to complete the signup process");else{let e=await n.profileAPI.getCreatorProfile();if(e.success&&e.data){let t=e.data,s=t.gender&&t.location_city,r=t.content_categories&&t.content_categories.length>0&&t.bio&&t.languages&&t.languages.length>0;if(s&&r){console.log("✅ User has already completed onboarding with all required fields, redirecting to dashboard"),window.location.href="/dashboard/creator";return}console.log("⚠️ User has initial profile but onboarding is incomplete, continuing with setup"),console.log("\uD83D\uDD0D Profile status:",{hasBasicInfo:s,hasPreferences:r})}}}catch(e){console.log("⚠️ Could not check existing profile, user may need to complete onboarding")}j(!1)})()},[]);let U=async()=>{if(!g.trim()){L("Please enter your phone number");return}if(10!==g.length){L("Please enter a valid 10-digit mobile number");return}A(!0),L("");try{if(console.log("\uD83D\uDD04 Sending OTP request for:","+91".concat(g)),(await n.authAPI.checkUserExists("+91".concat(g))).exists){L("An account with this phone number already exists. Please log in instead."),A(!1);return}await n.authAPI.sendOTP("+91".concat(g)),console.log("✅ OTP sent successfully"),A(!1),V(!0)}catch(s){console.error("❌ OTP request failed:",s);let e=(null==s?void 0:s.message)||"",t=null==s?void 0:s.error;if(e.includes("429")||"Rate limit exceeded"===t){let e=(null==s?void 0:s.timeRemaining)||(null==s?void 0:s.retryAfter)||60;L("Please wait ".concat(e," seconds before requesting another code."))}else e.includes("409")?L("An account with this phone number already exists. Please log in instead."):L("Network error. Please check your connection and try again.");A(!1)}},R=async()=>{if(!w){if(console.log("handleNextStep called with state:",{phone:g.trim(),city:h.trim(),isPhoneVerified:S,gender:t,email:u.trim(),dob:x}),D){if(console.log("Validation check for Google user - phone:",g.trim(),"city:",h.trim(),"isPhoneVerified:",S),!g.trim()){console.log("Validation failed: phone is empty"),alert("Please enter your phone number");return}if(!S){console.log("Validation failed: phone not verified"),alert("Please verify your phone number first");return}}else{if(console.log("Validation check for Phone user - email:",u.trim(),"city:",h.trim()),!u.trim()){console.log("Validation failed: email is empty"),alert("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.trim())){console.log("Validation failed: invalid email format"),alert("Please enter a valid email address");return}if("true"!==sessionStorage.getItem("emailVerified")||!u.trim()){console.log("Validation failed: email not verified or empty"),alert("Please enter and verify your email address with Google before continuing");return}}if(!h.trim()){console.log("Validation failed: city is empty"),alert("Please select your city");return}if(!x){console.log("Validation failed: date of birth is empty"),alert("Please select your date of birth");return}console.log("Validation passed successfully"),console.log("\uD83D\uDD0D Setting loading to true at line 274"),y(!0),console.log("\uD83D\uDD0D Loading state after setLoading(true):",w);try{let s={gender:t,dob:x,city:h.trim()};D?g.trim()&&(s.phone="+91".concat(g.trim())):u.trim()&&(s.email=u.trim()),console.log("Preparing basic profile data (mobile app approach):",s),console.log("Saving basic profile data to database..."),console.log("\uD83D\uDD0D Calling profileAPI.updateBasicInfo with data:",s);try{let t;if(!(0,n.$8)())throw Error("Authentication required. Please sign in again.");let r=(0,n.ts)();if(console.log("\uD83D\uDD0D Making API call for user:",r),(null==r?void 0:r.user_type)!=="creator"){console.error("❌ User type mismatch. Expected: creator, Got:",null==r?void 0:r.user_type),alert("This page is for creators only. Please use the appropriate signup flow."),window.location.href="/signup-creator";return}let l=new Promise((e,t)=>setTimeout(()=>t(Error("API call timeout after 10 seconds")),1e4)),a=0;for(;a<=2;)try{t=await Promise.race([n.profileAPI.updateBasicInfo(s),l]),console.log("✅ Basic profile saved to database:",t);break}catch(e){if(a++,console.warn("⚠️ API call attempt ".concat(a," failed:"),e),a>2)throw e;await new Promise(e=>setTimeout(e,1e3*a))}sessionStorage.setItem("basicProfileData",JSON.stringify(s)),console.log("\uD83D\uDCDD Basic profile data stored in sessionStorage"),localStorage.setItem("userType","creator"),sessionStorage.removeItem("isSignupFlow"),console.log("✅ Moving to preferences step - isSignupFlow flag cleared"),console.log("\uD83D\uDE80 Navigating to /creator-preferences..."),console.log("\uD83D\uDD0D Setting loading to false before navigation"),y(!1);try{await e.push("/creator-preferences"),console.log("✅ Navigation successful")}catch(e){console.error("❌ Navigation failed:",e),console.log("\uD83D\uDD04 Trying fallback navigation with window.location..."),window.location.href="/creator-preferences"}}catch(t){if(console.error("❌ API call failed:",t),t instanceof Error){if(t.message.includes("401")||t.message.includes("403")||t.message.includes("Unauthorized")){console.error("❌ Authentication error - redirecting to login"),localStorage.removeItem("token"),window.location.href="/login";return}if(t.message.includes("timeout")||t.message.includes("Network error")){console.error("❌ Network/Timeout error:",t.message),M(t),y(!1);return}}console.log("\uD83D\uDCDD Falling back to sessionStorage due to API error"),sessionStorage.setItem("basicProfileData",JSON.stringify(s)),console.log("\uD83D\uDCDD Basic profile data stored in sessionStorage (fallback)"),localStorage.setItem("userType","creator"),sessionStorage.removeItem("isSignupFlow"),console.log("✅ Moving to preferences step - isSignupFlow flag cleared (fallback)"),console.log("\uD83D\uDE80 Navigating to /creator-preferences (fallback)..."),y(!1);try{await e.push("/creator-preferences"),console.log("✅ Navigation successful (fallback)")}catch(e){console.error("❌ Navigation failed (fallback):",e),window.location.href="/creator-preferences"}}}catch(e){console.error("Unexpected error in handleNextStep:",e),alert("An unexpected error occurred. Please try again.")}finally{y(!1)}}},z=e=>{console.log("City selected:",e),b(e),C(!1)},O=async()=>{if(!u.trim()){alert("Please enter your email address first");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.trim())){alert("Please enter a valid email address");return}F(!0);try{console.log("\uD83D\uDD0D Starting Google email verification...");let e=await c.J.signIn();e.success&&e.user&&e.user.email?(console.log("✅ Google email verification successful:",e.user.email),m(e.user.email),alert("Google account verified! Your email has been updated."),sessionStorage.setItem("emailVerified","true"),sessionStorage.setItem("verifiedEmail",e.user.email)):(console.error("❌ Google email verification failed:",e.error),alert(e.error||"Google sign-in failed. Please try again."))}catch(e){console.error("Google email verification error:",e),alert("Failed to verify email with Google. Please try again.")}finally{F(!1)}},_=e=>{let{title:t,description:s}=e;return(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-secondary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("svg",{width:"8",height:"8",className:"sm:w-2.5 sm:h-2.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"white"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-base lg:text-lg font-poppins-semibold text-textDark mb-1",children:t}),(0,r.jsx)("p",{className:"text-xs sm:text-sm lg:text-base font-poppins-regular text-textLight leading-relaxed",children:s})]})]})};return v?(0,r.jsx)("div",{className:"min-h-screen bg-white font-poppins-regular flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-secondary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-poppins-semibold text-textDark mb-2",children:"Checking Authentication..."}),(0,r.jsx)("p",{className:"text-sm text-textGray",children:"Please wait while we verify your login status"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-white font-poppins-regular flex flex-col",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center px-3 sm:px-4 lg:px-6 py-3 sm:py-4 border-b border-gray-200 bg-white flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(a.default,{src:"/images/logo1.svg",alt:"im logo",width:28,height:28,className:"h-7 w-auto"}),(0,r.jsx)(a.default,{src:"/images/logo2.svg",alt:"influ mojo text",width:28,height:28,className:"h-7 w-auto"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-3 lg:space-x-6",children:[(0,r.jsx)(o.default,{href:"/how-it-works",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"How it works"}),(0,r.jsx)(o.default,{href:"/pricing",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Pricing"}),(0,r.jsx)(o.default,{href:"/signup-brand",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Sign up as brand"}),(0,r.jsx)(o.default,{href:"/signup-creator",className:"text-secondary font-poppins-medium hover:text-opacity-80 transition-colors text-xs lg:text-sm",children:"Sign up as Creator"}),(0,r.jsx)(o.default,{href:"/login",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Login"}),(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden",children:(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-xs font-poppins-bold",children:"\uD83D\uDC54"})})})]}),(0,r.jsx)("button",{className:"md:hidden p-1",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row flex-1 w-full bg-white",children:[(0,r.jsxs)("div",{className:"w-full lg:w-1/2 bg-[#FFF4ED] px-3 sm:px-6 lg:pl-12 lg:pr-3 xl:pl-16 xl:pr-6 py-12 sm:py-16 lg:py-24 flex flex-col justify-center items-center lg:items-center",children:[(0,r.jsxs)("div",{className:"max-w-sm lg:max-w-md xl:max-w-lg w-full space-y-4 sm:space-y-6",children:[(0,r.jsx)(_,{title:"Get Started in Minutes",description:"Quick profile setup for brands and influencers—no complex steps."}),(0,r.jsx)(_,{title:"Trusted Campaigns & Creators",description:"Join verified campaigns or find influencers that match your brand."}),(0,r.jsx)(_,{title:"Online & Offline Collaborations",description:"Brands can book packages or hire creators for in-person promos."})]}),(0,r.jsxs)("div",{className:"flex items-center mt-6 sm:mt-8 max-w-sm lg:max-w-md xl:max-w-lg w-full",children:[(0,r.jsxs)("div",{className:"flex -space-x-[12px]",children:[(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white overflow-hidden bg-yellow-300 flex-shrink-0",children:(0,r.jsx)(a.default,{src:"/images/profile1.svg",alt:"Profile 1",width:32,height:32,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none",t.parentElement.className="w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white bg-yellow-300 flex items-center justify-center flex-shrink-0",t.parentElement.innerHTML='<span class="text-white text-xs font-poppins-bold">\uD83D\uDC64</span>'}})}),(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white overflow-hidden bg-yellow-300 flex-shrink-0",children:(0,r.jsx)(a.default,{src:"/images/profile2.svg",alt:"Profile 2",width:32,height:32,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none",t.parentElement.className="w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white bg-yellow-300 flex items-center justify-center flex-shrink-0",t.parentElement.innerHTML='<span class="text-white text-xs font-poppins-bold">\uD83D\uDC64</span>'}})}),(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white overflow-hidden bg-blue-300 flex-shrink-0",children:(0,r.jsx)(a.default,{src:"/images/profile3.svg",alt:"Profile 3",width:32,height:32,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none",t.parentElement.className="w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white bg-blue-300 flex items-center justify-center flex-shrink-0",t.parentElement.innerHTML='<span class="text-white text-xs font-poppins-bold">\uD83D\uDC64</span>'}})}),(0,r.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white overflow-hidden bg-gray-300 flex-shrink-0",children:(0,r.jsx)(a.default,{src:"/images/profile4.svg",alt:"Profile 4",width:32,height:32,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none",t.parentElement.className="w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-white bg-gray-300 flex items-center justify-center flex-shrink-0",t.parentElement.innerHTML='<span class="text-white text-xs font-poppins-bold">\uD83D\uDC64</span>'}})})]}),(0,r.jsx)("div",{className:"w-px h-6 sm:h-8 bg-textDark mx-2 sm:mx-3"}),(0,r.jsxs)("div",{className:"flex flex-col max-w-xs",children:[(0,r.jsx)("p",{className:"text-[13px] font-poppins text-textDark leading-relaxed",children:"Join 12,000+ influencers and 500+ brands already"}),(0,r.jsx)("p",{className:"text-[13px] font-poppins text-textDark leading-relaxed",children:"building meaningful partnerships."})]})]})]}),(0,r.jsx)("div",{className:"w-full lg:w-1/2 px-3 sm:px-6 lg:pl-3 lg:pr-12 xl:pl-6 xl:pr-16 py-12 sm:py-16 lg:py-24 flex flex-col justify-center items-center lg:items-center",children:(0,r.jsxs)("div",{className:"max-w-sm lg:max-w-md xl:max-w-lg w-full space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-poppins-semibold text-textDark mb-2 sm:mb-3 text-left w-full tracking-wide lg:tracking-wider",children:"You're almost there!"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-textGray font-poppins-regular",children:"Just a few more details to complete your creator profile. This helps us personalize your experience and keep your account secure."})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:(0,r.jsx)("div",{className:"bg-secondary h-2 rounded-full transition-all duration-300",style:{width:"50%"}})}),(0,r.jsx)("p",{className:"text-xs text-textGray font-poppins-regular text-center",children:"50%"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Gender"}),(0,r.jsx)("div",{className:"flex gap-3",children:["Male","Female","Other"].map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"gender",value:e,checked:t===e,onChange:e=>s(e.target.value),className:"w-4 h-4 text-secondary border-gray-300 focus:ring-secondary focus:ring-2"}),(0,r.jsx)("span",{className:"text-sm font-poppins-regular text-textDark",children:e})]},e))})]}),D?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Email ID"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"email",value:u,disabled:!0,className:"flex-1 py-2.5 px-3 border border-green-500 rounded-lg text-xs sm:text-sm font-poppins-regular text-textGray bg-white"}),(0,r.jsx)("div",{className:"w-5 h-5 text-green-600",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("span",{className:"w-4 h-4 text-green-600 text-lg",children:"✅"}),(0,r.jsx)("span",{className:"text-xs text-green-700 font-poppins-regular",children:"Your email is verified via Google"})]})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Email ID"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"email",value:u,onChange:e=>m(e.target.value),placeholder:"Enter your email address",className:"flex-1 py-2.5 px-3 border rounded-lg text-xs sm:text-sm font-poppins-regular bg-white focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent ".concat("true"===sessionStorage.getItem("emailVerified")&&""!==u.trim()?"border-green-500 text-textGray":"border-gray-300 text-textDark"),disabled:"true"===sessionStorage.getItem("emailVerified")&&""!==u.trim()}),"true"===sessionStorage.getItem("emailVerified")&&""!==u.trim()?(0,r.jsx)("div",{className:"w-5 h-5 text-green-600",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}):(0,r.jsx)("button",{onClick:O,disabled:G,className:"px-4 py-2.5 bg-[#20536d] text-white text-xs font-poppins-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:G?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):"Verify Email"})]}),"true"===sessionStorage.getItem("emailVerified")&&""!==u.trim()?(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"text-xs text-green-700 font-poppins-regular",children:"Your email is verified via Google"})]}):(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,r.jsx)("span",{className:"w-4 h-4 text-blue-600 text-lg",children:"ℹ️"}),(0,r.jsx)("span",{className:"text-xs text-blue-700 font-poppins-regular",children:"Please verify your email address with Google"})]})]}),D?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Phone Number"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex border border-gray-300 rounded-lg items-center px-3 bg-white flex-1",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm font-poppins-medium text-textDark pr-2",children:"+91"}),(0,r.jsx)("div",{className:"w-px h-5 bg-gray-300 mr-2"}),(0,r.jsx)("input",{type:"tel",placeholder:"Enter 10-digit mobile number",value:g,onChange:e=>p(e.target.value),disabled:S,className:"flex-1 py-2.5 bg-transparent border-none outline-none text-xs sm:text-sm font-poppins-regular text-textDark",maxLength:10})]}),S?(0,r.jsx)("div",{className:"w-5 h-5 text-green-600",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}):(0,r.jsx)("button",{onClick:U,disabled:T||!g.trim()||10!==g.length,className:"px-4 py-2.5 bg-[#20536d] text-white text-xs font-poppins-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send OTP"})]}),!S&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,r.jsx)("span",{className:"w-4 h-4 text-blue-600 text-lg",children:"ℹ️"}),(0,r.jsx)("span",{className:"text-xs text-blue-700 font-poppins-regular",children:"Please verify your phone number to continue"})]}),S&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"text-xs text-green-700 font-poppins-regular",children:"Your phone number is verified"})]}),B&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsx)("span",{className:"w-4 h-4 text-red-600 text-lg",children:"⚠️"}),(0,r.jsx)("span",{className:"text-xs text-red-700 font-poppins-regular",children:B})]})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Phone Number"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex border border-green-500 rounded-lg items-center px-3 bg-white flex-1",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm font-poppins-medium text-textDark pr-2",children:"+91"}),(0,r.jsx)("div",{className:"w-px h-5 bg-green-500 mr-2"}),(0,r.jsx)("input",{type:"tel",value:g,disabled:!0,className:"flex-1 py-2.5 bg-transparent border-none outline-none text-xs sm:text-sm font-poppins-regular text-textGray"})]}),(0,r.jsx)("div",{className:"w-5 h-5 text-green-600",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"text-xs text-green-700 font-poppins-regular",children:"Your phone number is verified"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"Date of Birth"}),(0,r.jsx)("input",{type:"date",value:x,onChange:e=>f(e.target.value),className:"w-full py-2.5 px-3 border border-gray-300 rounded-lg text-xs sm:text-sm font-poppins-regular text-textDark bg-white focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-poppins-semibold text-textDark",children:"City"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{console.log("City modal toggle clicked, current state:",P),console.log("Current city value:",h),C(!P)},className:"w-full py-2.5 px-3 border border-gray-300 rounded-lg text-xs sm:text-sm font-poppins-regular text-left bg-white focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent flex items-center justify-between",children:[(0,r.jsx)("span",{className:h?"text-textDark":"text-gray-500",children:h||"Select your city"}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),P&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",children:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara"].map(e=>(0,r.jsx)("button",{onClick:()=>z(e),className:"w-full px-3 py-2 text-left text-sm font-poppins-regular text-textDark hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:e},e))})]})]}),!1,(0,r.jsx)("button",{onClick:()=>{console.log("\uD83C\uDFAF Next Step button clicked!"),console.log("Button state:",{loading:w,city:h.trim(),isGoogleUser:D,phone:g.trim(),isPhoneVerified:S,email:u.trim(),emailVerified:sessionStorage.getItem("emailVerified")}),R()},disabled:I,className:"w-full py-2.5 text-white text-sm font-poppins-semibold rounded-lg flex justify-center items-center gap-2 hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed mt-6",style:{background:"linear-gradient(180deg, #FE8F00, #FC5213)"},title:"Button state: loading=".concat(w,", city=").concat(h.trim(),", dob=").concat(x,", ").concat(D?"phone=".concat(g.trim(),", verified=").concat(S):"email=".concat(u.trim(),", verified=").concat(sessionStorage.getItem("emailVerified")),", disabled=").concat(I),children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:["Next Step",(0,r.jsx)(a.default,{src:"/icons/arrow.svg",alt:"arrow",width:14,height:14})]})}),!1]})})]}),P&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>C(!1)}),E&&(0,r.jsx)(d.Z,{isOpen:E,onClose:()=>V(!1),onSuccess:e=>{V(!1),k(!0),e&&"object"==typeof e&&null!==e&&(sessionStorage.setItem("userData",JSON.stringify(e)),e.phone&&p(e.phone.replace("+91","")))},phone:"+91".concat(g),fullName:"",userType:"creator"})]})}}}]);