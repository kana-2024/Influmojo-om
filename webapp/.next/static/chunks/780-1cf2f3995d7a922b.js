"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{1723:function(e,t,a){var s=a(7437),r=a(2265),l=a(3145),n=a(7165),i=a(338),o=a(3652),c=a(2594),d=a(3910),m=a(141);t.Z=e=>{let{isOpen:t,onClose:a,onSave:u,profile:x}=e,[g,h]=(0,r.useState)({fullName:"",gender:"",state:"",city:"",pincode:"",languages:[],email:"",phone:"",about:"",categories:[]}),[p,f]=(0,r.useState)({personalDetails:!0,emailMobile:!1,aboutCategories:!1}),[b,y]=(0,r.useState)(["","","","","",""]),[j,v]=(0,r.useState)(["","","","","",""]),[N,w]=(0,r.useState)(30),[C,k]=(0,r.useState)(30),[I,S]=(0,r.useState)(!1),[P,D]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[L,Z]=(0,r.useState)(null),[F,A]=(0,r.useState)(""),[_,O]=(0,r.useState)("");(0,r.useEffect)(()=>{x&&(h({fullName:x.fullName||"",gender:x.gender||"",state:x.state||"",city:x.city||"",pincode:x.pincode||"",languages:x.languages||[],email:x.email||"",phone:x.phone||"",about:x.bio||"",categories:x.content_categories||x.categories||[]}),x.existingCoverImage&&A(x.existingCoverImage),x.existingProfilePicture&&O(x.existingProfilePicture))},[x]),(0,r.useEffect)(()=>{let e;return N>0&&I&&(e=setInterval(()=>{w(e=>e-1)},1e3)),()=>clearInterval(e)},[N,I]),(0,r.useEffect)(()=>{let e;return C>0&&P&&(e=setInterval(()=>{k(e=>e-1)},1e3)),()=>clearInterval(e)},[C,P]);let M=(e,t)=>{h(a=>({...a,[e]:t}))},q=e=>{e&&!g.languages.includes(e)&&h(t=>({...t,languages:[...t.languages,e]}))},B=e=>{h(t=>({...t,languages:t.languages.filter(t=>t!==e)}))},U=e=>{h(t=>t.categories.includes(e)?{...t,categories:t.categories.filter(t=>t!==e)}:t.categories.length<5?{...t,categories:[...t.categories,e]}:t)},R=(e,t)=>{let a=[...b];if(a[e]=t,y(a),t&&e<5){let t=document.getElementById("email-otp-".concat(e+1));t&&t.focus()}},z=(e,t)=>{let a=[...j];if(a[e]=t,v(a),t&&e<5){let t=document.getElementById("phone-otp-".concat(e+1));t&&t.focus()}},H=async()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target;if(t.files&&t.files[0])try{E(t.files[0]);let e=await m.A.uploadFile(t.files[0]);A(e.secure_url),console.log("Cover image uploaded to Cloudinary:",e.secure_url)}catch(e){console.error("Failed to upload cover image:",e)}},e.click()},G=async()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target;if(t.files&&t.files[0])try{Z(t.files[0]);let e=await m.A.uploadFile(t.files[0]);O(e.secure_url),console.log("Profile image uploaded to Cloudinary:",e.secure_url)}catch(e){console.error("Failed to upload profile image:",e)}},e.click()},V=()=>{u({...g,coverImage:T,profileImage:L,coverImageUrl:F,profileImageUrl:_}),a()},J=e=>{f(t=>({...t,[e]:!t[e]}))};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(n.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"relative h-48 bg-orange-500 mx-6 mt-6 rounded-lg overflow-hidden",children:[F&&(0,s.jsx)(l.default,{src:F,alt:"Cover",fill:!0,className:"object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-wider",children:g.fullName?"".concat(g.fullName.toUpperCase()," INFLUENCER"):"CREATOR INFLUENCER"})}),(0,s.jsx)("div",{className:"absolute -bottom-16 left-8",children:(0,s.jsxs)("div",{className:"relative",children:[_?(0,s.jsx)(l.default,{src:_,alt:"Profile",width:128,height:128,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover"}):(0,s.jsx)("div",{className:"w-32 h-32 rounded-full border-4 border-white shadow-lg bg-gray-200 flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"w-16 h-16 text-gray-400"})}),(0,s.jsx)("button",{onClick:G,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center border-2 border-white",children:(0,s.jsx)(o.Z,{className:"w-4 h-4 text-white"})})]})}),(0,s.jsxs)("button",{onClick:H,className:"absolute top-4 right-4 bg-orange-500 text-white px-3 py-2 rounded-lg flex items-center gap-2 hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),"Edit Cover"]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,s.jsxs)("button",{onClick:()=>J("personalDetails"),className:"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Details"}),p.personalDetails?(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500 transform rotate-90"}):(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500"})]}),p.personalDetails&&(0,s.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name*"}),(0,s.jsx)("input",{type:"text",value:g.fullName,onChange:e=>M("fullName",e.target.value),placeholder:"e.g. John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,s.jsx)("div",{className:"flex gap-4",children:["Male","Female","Other"].map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"gender",value:e,checked:g.gender===e,onChange:e=>M("gender",e.target.value),className:"mr-2 text-orange-500 focus:ring-orange-500"}),e]},e))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,s.jsxs)("select",{value:g.state,onChange:e=>M("state",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select State"}),["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,s.jsxs)("select",{value:g.city,onChange:e=>M("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select City"}),["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),(0,s.jsx)("input",{type:"text",value:g.pincode,onChange:e=>M("pincode",e.target.value),placeholder:"Placeholder",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:g.languages.map(e=>(0,s.jsxs)("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,s.jsx)("button",{onClick:()=>B(e),className:"text-orange-600 hover:text-orange-800",children:"\xd7"})]},e))}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)("select",{onChange:e=>q(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Add Language"}),["Hindi","English","Telugu","Marathi","Gujarati","Bengali","Tamil","Kannada","Malayalam","Punjabi","Urdu","Arabic","French","German","Spanish","Chinese","Japanese","Korean"].filter(e=>!g.languages.includes(e)).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 border border-orange-500 text-orange-500 rounded-md hover:bg-orange-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:V,className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",children:"Save"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,s.jsxs)("button",{onClick:()=>J("emailMobile"),className:"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Email & Mobile"}),p.emailMobile?(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500 transform rotate-90"}):(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500"})]}),p.emailMobile&&(0,s.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email ID"}),(0,s.jsx)("input",{type:"email",value:g.email,onChange:e=>M("email",e.target.value),placeholder:"e.g. azharweb90@gmail.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,s.jsx)("button",{onClick:()=>{S(!0),w(30)},className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors self-end",children:"Verify Email ID"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"We will send 6 digit code to your email ID to verify."}),I&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:["Enter OTP we just sent on your email (",g.email,")"]}),(0,s.jsx)("div",{className:"flex gap-2",children:b.map((e,t)=>(0,s.jsx)("input",{id:"email-otp-".concat(t),type:"text",maxLength:1,value:e,onChange:e=>R(t,e.target.value),className:"w-12 h-12 text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},t))}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Didn't receive the OTP?"}),(0,s.jsx)("span",{className:"text-sm text-blue-600 cursor-pointer",children:"Resend OTP"})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["00:",N.toString().padStart(2,"0")]})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number*"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-2 border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm rounded-l-md",children:"+91"}),(0,s.jsx)("input",{type:"tel",value:g.phone,onChange:e=>M("phone",e.target.value),placeholder:"Placeholder",className:"flex-1 px-3 py-2 border border-gray-300 rounded-r-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),(0,s.jsx)("button",{onClick:()=>{D(!0),k(30)},className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors self-end",children:"Verify Phone Number"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"We will send you OTP on this mobile number to verify!"}),P&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:["Enter OTP we just sent on your number (+91-",g.phone,")"]}),(0,s.jsx)("div",{className:"flex gap-2",children:j.map((e,t)=>(0,s.jsx)("input",{id:"phone-otp-".concat(t),type:"text",maxLength:1,value:e,onChange:e=>z(t,e.target.value),className:"w-12 h-12 text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},t))}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Didn't receive the OTP?"}),(0,s.jsx)("span",{className:"text-sm text-blue-600 cursor-pointer",children:"Resend OTP"})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["00:",C.toString().padStart(2,"0")]})})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 border border-orange-500 text-orange-500 rounded-md hover:bg-orange-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:V,className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",children:"Save"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,s.jsxs)("button",{onClick:()=>J("aboutCategories"),className:"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"About & Categories"}),p.aboutCategories?(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500 transform rotate-90"}):(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-500"})]}),p.aboutCategories&&(0,s.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About"}),(0,s.jsx)("textarea",{value:g.about,onChange:e=>M("about",e.target.value),placeholder:"Brief about your work so that it will help brands to connect you easily.",rows:4,maxLength:250,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"}),(0,s.jsx)("div",{className:"text-right mt-1",children:(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[g.about.length,"/250"]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pick categories"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Minimum one category and maximum five you can select."}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Lifestyle","Entertainment","Beauty","Gaming","Travel","Food","Education","Pet","Sports & Fitness","Fashion","Bloggers/Vloggers","Tech","Parenting","Photography","Healthcare","Virtual","Finance"].map(e=>(0,s.jsx)("button",{onClick:()=>U(e),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(g.categories.includes(e)?"bg-orange-100 text-orange-800 border border-orange-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 border border-orange-500 text-orange-500 rounded-md hover:bg-orange-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:V,className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",children:"Save"})]})]})]})]})]})}):null}},1175:function(e,t,a){a.d(t,{Z:function(){return f}});var s=a(7437),r=a(2265),l=a(7165),n=a(1601),i=a(2137),o=a(3836),c=a(2594),d=a(7504),m=a(322),u=a(9672),x=a(9967),g=e=>{let{isOpen:t,onClose:a,onSave:n,cartItem:i}=e,[o,c]=(0,r.useState)(7),[d,g]=(0,r.useState)(""),[h,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&i&&(c(i.deliveryTime||7),g(i.additionalInstructions||""),p(i.references||[]))},[t,i]);let f=e=>{p(t=>t.filter((t,a)=>a!==e))};return t&&i?(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:a}),(0,s.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,s.jsxs)("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Package Details"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,s.jsx)("h4",{className:"font-medium text-orange-900 mb-2",children:i.packageName}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-orange-700",children:i.platform}),(0,s.jsxs)("span",{className:"font-semibold text-orange-900",children:["₹",Number(i.packagePrice).toLocaleString("en-IN")]})]}),(0,s.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:["Creator: ",i.creatorName]})]})]}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i){alert("Cart item information is missing");return}n(i.id,{deliveryTime:o,additionalInstructions:d,references:h})},className:"px-6 py-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 inline mr-2"}),"Delivery Time (Days)"]}),(0,s.jsx)("input",{type:"number",min:"1",max:"365",value:o,onChange:e=>c(parseInt(e.target.value)||7),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"7"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"How many days do you need this delivered by?"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 inline mr-2"}),"Additional Instructions"]}),(0,s.jsx)("textarea",{value:d,onChange:e=>g(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe your requirements, style preferences, or any specific instructions for the creator..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific about what you want to achieve"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 inline mr-2"}),"Reference Files (Optional)"]}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-orange-400 transition-colors",children:[(0,s.jsx)("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:e=>{let t=e.target.files;if(t){let e=Array.from(t).map(e=>e.name);p(t=>[...t,...e])}},className:"hidden",id:"edit-file-upload"}),(0,s.jsx)("label",{htmlFor:"edit-file-upload",className:"cursor-pointer text-orange-600 hover:text-orange-700 font-medium",children:"Click to upload files"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload inspiration images, brand guidelines, or reference documents"})]}),h.length>0&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Files:"}),(0,s.jsx)("div",{className:"space-y-2",children:h.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e}),(0,s.jsx)("button",{type:"button",onClick:()=>f(t),className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Remove"})]},t))})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-md font-medium hover:bg-orange-600 transition-colors",children:"Save Changes"})]})]})]})]})}):null},h=a(9241);function p(e){let{isOpen:t,onClose:a,onConfirm:r,cartSummary:n,loading:i=!1}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Checkout"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h.Z,{className:"w-8 h-8 text-orange-600"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Are you sure you want to checkout?"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[n.totalItems," item",1!==n.totalItems?"s":""," for ₹",n.totalPrice.toLocaleString("en-IN")]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Total Items:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:n.totalItems})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Total Amount:"}),(0,s.jsxs)("span",{className:"font-medium text-orange-600",children:["₹",n.totalPrice.toLocaleString("en-IN")]})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:a,disabled:i,className:"flex-1 bg-gray-300 text-gray-700 px-4 py-3 rounded-lg font-medium hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:r,disabled:i,className:"flex-1 bg-orange-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Processing..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Checkout"})]})})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"By proceeding, you agree to our terms and conditions"})})]})]})}):null}var f=e=>{let{isOpen:t,onClose:m,onNavigateToProfile:u}=e,[x,h]=(0,r.useState)({totalItems:0,totalPrice:0,items:[]}),[f,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(null),[w,C]=(0,r.useState)(0),[k,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){let e=d.Z.subscribe(e=>{h(e)});return h(d.Z.getCartSummary()),e}},[t]);let S=e=>{confirm("Are you sure you want to remove this item from your cart?")&&d.Z.removeFromCart(e)},P=(e,t)=>{d.Z.updateQuantity(e,t)},D=e=>{N(e),j(!0)},T=async()=>{I(!0)},E=async()=>{let e=Date.now();if(f||e-w<2e3){console.log("\uD83D\uDD04 Checkout blocked: Too soon after last attempt or already loading");return}if(0===x.items.length){alert("Please add items to your cart before checkout.");return}try{var t;let{authAPI:e}=await Promise.resolve().then(a.bind(a,2943)),s=await e.getUserProfile(),r=(null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.user_type)||"creator";if("brand"===r){let{profileAPI:e}=await Promise.resolve().then(a.bind(a,2943));try{await e.getBrandProfile()}catch(t){let e=(null==t?void 0:t.message)||"";if(e.includes("not found")||e.includes("404")){confirm("Please complete your brand profile setup before checkout. Go to Profile now?")&&(m(),u&&u());return}}}}catch(e){console.error("Profile check error (continuing with checkout):",e)}if(confirm("Are you sure you want to checkout ".concat(x.totalItems," items for ₹").concat(x.totalPrice.toLocaleString("en-IN"),"?"))){C(e),b(!0);try{let e=x.items.map(e=>({packageId:e.packageId,creatorId:e.creatorId,quantity:e.quantity,deliveryTime:e.deliveryTime,additionalInstructions:e.additionalInstructions,references:e.references}));console.log("\uD83D\uDD04 Starting checkout process..."),console.log("\uD83D\uDCE6 Cart items:",e),console.log("\uD83D\uDCB0 Total amount:",x.totalPrice);let{ordersAPI:t}=await Promise.resolve().then(a.bind(a,2943)),s=x.items.map(e=>({id:e.id,package_id:e.packageId,creator_id:e.creatorId,quantity:e.quantity,price:e.packagePrice,currency:e.packageCurrency})),r=await t.checkoutOrders(s);if(console.log("✅ Checkout response:",r),r.success)alert("Checkout Successful! Your order has been placed. You can view it in the Orders tab."),d.Z.clearCart(),m();else{let e=r.message||r.error||"Failed to process checkout. Please try again.";alert("Checkout Failed: ".concat(e))}}catch(a){console.error("Checkout error:",a);let e="An error occurred during checkout. Please try again.",t=(null==a?void 0:a.message)||"";t.includes("401")?e="Authentication failed. Please log in again.":t.includes("403")?e="Only brands can checkout orders.":t.includes("404")?e="Package not found or inactive.":t.includes("409")?e="An order for this package already exists.":t.includes("No agent users available")?e="No agent users available to assign a support ticket. Please add an agent user on the backend.":t.includes("500")?e="Server error. Please try again later.":t.includes("Network")&&(e="Network error. Please check your connection."),alert("Checkout Error: ".concat(e))}finally{b(!1)}}},L=e=>"₹".concat(e.toLocaleString("en-IN"));if(!t)return null;let Z=(e=>{let t={};return e.forEach(e=>{t[e.creatorId]||(t[e.creatorId]=[]),t[e.creatorId].push(e)}),t})(x.items);return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:m}),(0,s.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl max-h-[90vh] flex flex-col",children:[(0,s.jsx)("div",{className:"bg-white px-6 py-4 border-b border-gray-200 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Shopping Cart"}),(0,s.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:0===x.items.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m6 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Add some packages to get started"})]}):(0,s.jsx)("div",{className:"space-y-6",children:Object.entries(Z).map(e=>{let[t,a]=e,r=a[0];return(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-orange-600 font-semibold text-sm",children:r.creatorName.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:r.creatorName}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[a.length," package",a.length>1?"s":""]})]})]}),(0,s.jsx)("button",{onClick:()=>d.Z.clearCreatorItems(t),className:"text-red-500 hover:text-red-700 p-1",title:"Remove all packages from this creator",children:(0,s.jsx)(n.Z,{className:"w-4 h-4"})})]})}),a.map(e=>(0,s.jsx)("div",{className:"px-4 py-3 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:e.packageName}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.packageDescription}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:e.platform}),(0,s.jsx)("span",{children:e.packageDuration})]}),e.deliveryTime&&(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:(0,s.jsxs)("span",{children:["\uD83D\uDCC5 Delivery: ",e.deliveryTime," ",1===e.deliveryTime?"Day":"Days"]})}),e.additionalInstructions&&(0,s.jsx)("div",{className:"flex items-start gap-2 text-sm text-gray-500 mb-1",children:(0,s.jsxs)("span",{children:["\uD83D\uDCDD Instructions: ",e.additionalInstructions]})}),e.references&&e.references.length>0&&(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:(0,s.jsxs)("span",{children:["\uD83D\uDCCE References: ",e.references.length," file",e.references.length>1?"s":""]})}),(0,s.jsx)("div",{className:"text-lg font-bold text-orange-600",children:L(e.packagePrice)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md",children:[(0,s.jsx)("button",{onClick:()=>P(e.id,e.quantity-1),className:"p-1 hover:bg-gray-100",children:(0,s.jsx)(i.Z,{className:"w-4 h-4 text-gray-600"})}),(0,s.jsx)("span",{className:"px-3 py-1 text-sm font-medium",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>P(e.id,e.quantity+1),className:"p-1 hover:bg-gray-100",children:(0,s.jsx)(o.Z,{className:"w-4 h-4 text-gray-600"})})]}),(0,s.jsx)("button",{onClick:()=>D(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",title:"Edit item details",children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>S(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"Remove item",children:(0,s.jsx)(n.Z,{className:"w-4 h-4"})})]})]})},e.id))]},t)})})}),x.items.length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex-shrink-0",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["Total (",x.totalItems," items): ",L(x.totalPrice)]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{confirm("Are you sure you want to clear your entire cart?")&&d.Z.clearCart()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Clear Cart"}),(0,s.jsx)("button",{onClick:T,disabled:f,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-orange-600 disabled:bg-orange-300 disabled:cursor-not-allowed transition-colors",children:f?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Checkout - ₹".concat(x.totalPrice.toLocaleString("en-IN"))})]})]})]})]}),(0,s.jsx)(g,{isOpen:y,onClose:()=>{j(!1),N(null)},onSave:(e,t)=>{d.Z.updateItem(e,t),j(!1),N(null),alert("Item updated successfully!")},cartItem:v}),(0,s.jsx)(p,{isOpen:k,onClose:()=>I(!1),onConfirm:E,cartSummary:x,loading:f})]})}},7504:function(e,t){class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}addToCart(e){let t=this.items.findIndex(t=>t.packageId===e.packageId&&t.creatorId===e.creatorId);if(t>=0)this.items[t].quantity+=1,void 0!==e.deliveryTime&&(this.items[t].deliveryTime=e.deliveryTime),void 0!==e.additionalInstructions&&(this.items[t].additionalInstructions=e.additionalInstructions),void 0!==e.references&&(this.items[t].references=e.references);else{let t={...e,id:"".concat(e.creatorId,"-").concat(e.packageId,"-").concat(Date.now()),quantity:1,addedAt:new Date,deliveryTime:e.deliveryTime,additionalInstructions:e.additionalInstructions,references:e.references||[]};this.items.push(t)}let a=this.getCartSummary();return this.notifyListeners(a),this.saveToLocalStorage(),a}addMultiplePackages(e,t,a,s){return s.forEach(s=>{this.addToCart({creatorId:e,creatorName:t,creatorImage:a,...s})}),this.getCartSummary()}removeFromCart(e){this.items=this.items.filter(t=>t.id!==e);let t=this.getCartSummary();return this.notifyListeners(t),this.saveToLocalStorage(),t}updateQuantity(e,t){let a=this.items.findIndex(t=>t.id===e);a>=0&&(t<=0?this.items.splice(a,1):this.items[a].quantity=t);let s=this.getCartSummary();return this.notifyListeners(s),this.saveToLocalStorage(),s}updateItem(e,t){let a=this.items.findIndex(t=>t.id===e);if(a>=0){void 0!==t.deliveryTime&&(this.items[a].deliveryTime=t.deliveryTime),void 0!==t.additionalInstructions&&(this.items[a].additionalInstructions=t.additionalInstructions),void 0!==t.references&&(this.items[a].references=t.references);let e=this.getCartSummary();return this.notifyListeners(e),this.saveToLocalStorage(),e}return this.getCartSummary()}clearCart(){this.items=[];let e=this.getCartSummary();return this.notifyListeners(e),this.saveToLocalStorage(),e}clearCreatorItems(e){this.items=this.items.filter(t=>t.creatorId!==e);let t=this.getCartSummary();return this.notifyListeners(t),this.saveToLocalStorage(),t}getCartSummary(){return{totalItems:this.items.reduce((e,t)=>e+t.quantity,0),totalPrice:this.items.reduce((e,t)=>e+t.packagePrice*t.quantity,0),items:[...this.items]}}getItemsByCreator(e){return this.items.filter(t=>t.creatorId===e)}isItemInCart(e,t){return this.items.some(a=>a.packageId===e&&a.creatorId===t)}getItemQuantity(e,t){let a=this.items.find(a=>a.packageId===e&&a.creatorId===t);return a?a.quantity:0}subscribe(e){return this.listeners.push(e),()=>{let t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}}notifyListeners(e){this.listeners.forEach(t=>t(e))}getCartState(){return[...this.items]}restoreCartState(e){this.items=e.map(e=>({...e,addedAt:new Date(e.addedAt)}));let t=this.getCartSummary();this.notifyListeners(t)}saveToLocalStorage(){try{localStorage.setItem("influmojo_cart",JSON.stringify(this.items))}catch(e){console.error("Failed to save cart to localStorage:",e)}}loadFromLocalStorage(){try{let e=localStorage.getItem("influmojo_cart");if(e){let t=JSON.parse(e);this.restoreCartState(t)}}catch(e){console.error("Failed to load cart from localStorage:",e)}}init(){this.loadFromLocalStorage()}constructor(){this.items=[],this.listeners=[]}}t.Z=a.getInstance()},141:function(e,t,a){a.d(t,{A:function(){return l}});let s="dbfwrgwke",r="https://api.cloudinary.com/v1_1/".concat(s,"/auto/upload"),l={uploadFile:async e=>{try{let t=new FormData;t.append("file",e),t.append("upload_preset","influmojo_portfolio"),t.append("folder","influmojo/portfolio");let a=await fetch(r,{method:"POST",body:t});if(!a.ok){let e=await a.text();throw Error("Upload failed: ".concat(a.status," - ").concat(e))}let s=await a.json();return{public_id:s.public_id,secure_url:s.secure_url,url:s.url,format:s.format,resource_type:s.resource_type,bytes:s.bytes,width:s.width,height:s.height,duration:s.duration}}catch(e){throw console.error("Cloudinary upload error:",e),Error("Failed to upload file: ".concat(e instanceof Error?e.message:"Unknown error"))}},getOptimizedUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{width:a,height:r,quality:l=80,format:n}=t,i="https://res.cloudinary.com/".concat(s,"/image/upload"),o=[];return a&&o.push("w_".concat(a)),r&&o.push("h_".concat(r)),l&&o.push("q_".concat(l)),n&&o.push("f_".concat(n)),o.length>0&&(i+="/".concat(o.join(","))),"".concat(i,"/").concat(e)},getThumbnailUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return l.getOptimizedUrl(e,{width:t,height:a,quality:70})}}}}]);