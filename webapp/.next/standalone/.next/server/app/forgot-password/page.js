(()=>{var e={};e.id=781,e.ids=[781],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8044:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(4629),s(5495),s(5866);var r=s(3191),o=s(8716),n=s(7922),a=s.n(n),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["forgot-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4629)),"C:\\Influmojo-om\\webapp\\src\\app\\forgot-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5495)),"C:\\Influmojo-om\\webapp\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Influmojo-om\\webapp\\src\\app\\forgot-password\\page.tsx"],u="/forgot-password/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/forgot-password/page",pathname:"/forgot-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9328:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8741:(e,t,s)=>{Promise.resolve().then(s.bind(s,381)),Promise.resolve().then(s.bind(s,2944))},1783:(e,t,s)=>{Promise.resolve().then(s.bind(s,8975))},2944:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>T});var r=s(326),o=s(5842),n=s(2659),a=s(4976),i=s(2618),l=s(1549),d=s(1762),c=s(1908);let u=(0,l.oM)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},loginSuccess:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.isLoading=!1,e.error=null},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null},updateUser:(e,t)=>{e.user&&(e.user={...e.user,...t.payload})},clearError:e=>{e.error=null}}}),{setLoading:p,setError:m,loginSuccess:x,logout:h,updateUser:f,clearError:g}=u.actions,b=u.reducer,y=(0,l.oM)({name:"modal",initialState:{isOpen:!1,type:null,data:null},reducers:{openModal:(e,t)=>{e.isOpen=!0,e.type=t.payload.type,e.data=t.payload.data||null},closeModal:e=>{e.isOpen=!1,e.type=null,e.data=null}}}),{openModal:j,closeModal:v}=y.actions,w=y.reducer,P={key:"root",storage:c.Z,whitelist:["auth"]},N=(0,d.OJ)(P,b),k=(0,l.xC)({reducer:{auth:N,modal:w},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),D=(0,d.p5)(k);var O=s(381);let F=new n.S({defaultOptions:{queries:{staleTime:3e5,retry:1}}});function T({children:e}){return(0,r.jsx)(o.zt,{store:k,children:(0,r.jsx)(i.r,{loading:null,persistor:D,children:(0,r.jsxs)(a.aH,{client:F,children:[e,(0,r.jsx)(O.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}},8975:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(326),o=s(7577),n=s(434),a=s(6226),i=s(2056),l=s(2564),d=s(3129);function c(){let[e,t]=(0,o.useState)(""),[s,c]=(0,o.useState)(!1),[u,p]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),[h,f]=(0,o.useState)(!1),g=async()=>{if(!e.trim()){p("Please enter your phone number");return}if(!/^\d{10}$/.test(e.trim())){p("Please enter a valid 10-digit phone number");return}p(""),c(!0);try{let t=`+91${e.trim()}`;(await i.authAPI.checkUserExists(t)).exists?(await i.authAPI.sendOTP(t)).success?f(!0):p("Failed to send OTP. Please try again."):x("No account found with this phone number. Would you like to create a new account?")}catch(e){if(console.error("Password reset error:",e),"object"==typeof e&&e&&"message"in e&&"string"==typeof e.message&&e.message.includes("429")){let t=e.timeRemaining||e.retryAfter||60;p(`Please wait ${t} seconds before requesting another code.`)}else p("Failed to verify phone number. Please try again.")}finally{c(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-white font-poppins-regular flex flex-col",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center px-3 sm:px-4 lg:px-6 py-3 sm:py-4 border-b border-gray-200 bg-white flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(a.default,{src:"/images/logo1.svg",alt:"im logo",width:28,height:28,className:"h-7 w-auto"}),(0,r.jsx)(a.default,{src:"/images/logo2.svg",alt:"influ mojo text",width:28,height:28,className:"h-7 w-auto"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-3 lg:space-x-6",children:[(0,r.jsx)(n.default,{href:"/how-it-works",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"How it works"}),(0,r.jsx)(n.default,{href:"/pricing",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Pricing"}),(0,r.jsx)(n.default,{href:"/signup-brand",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Sign up as brand"}),(0,r.jsx)(n.default,{href:"/signup-creator",className:"text-secondary font-poppins-medium hover:text-opacity-80 transition-colors text-xs lg:text-sm",children:"Sign up as Creator"}),(0,r.jsx)(n.default,{href:"/login",className:"text-textDark font-poppins-medium hover:text-secondary transition-colors text-xs lg:text-sm",children:"Login"})]})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-poppins-bold text-textDark mb-2",children:"Forgot Password?"}),(0,r.jsx)("p",{className:"text-textGray text-sm",children:"Enter your phone number to receive a verification code"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-poppins-semibold text-textDark mb-2",children:"Mobile Number*"}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex items-center px-3 py-2 bg-gray-50 border border-r-0 border-gray-300 rounded-l-lg",children:(0,r.jsx)("span",{className:"text-sm font-poppins-medium text-textDark",children:"+91"})}),(0,r.jsx)("input",{type:"tel",value:e,onChange:e=>t(e.target.value),placeholder:"e.g. 9948425492",maxLength:10,className:"flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent"})]}),(0,r.jsx)("p",{className:"text-xs text-textGray mt-1",children:"We'll send a one-time OTP to this number for verification"})]}),u&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:u})}),m&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-yellow-600",children:m}),m.includes("create a new account")&&(0,r.jsx)(n.default,{href:"/get-started",className:"text-secondary font-poppins-medium hover:underline mt-2 inline-block",children:"Sign up now"})]}),(0,r.jsx)("button",{onClick:g,disabled:s,className:"w-full py-3 text-white text-sm font-poppins-semibold rounded-lg flex justify-center items-center gap-2 hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",style:{background:l.D.gradientOrange},children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending OTP..."]}):"Send OTP"})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-textGray",children:["Remember your password?"," ",(0,r.jsx)(n.default,{href:"/login",className:"text-secondary font-poppins-medium hover:underline",children:"Back to login"})]})})]})}),(0,r.jsx)(d.Z,{isOpen:h,onClose:()=>f(!1),onSuccess:()=>{f(!1),x("OTP verified successfully! You can now reset your password.")},phone:`+91${e}`,fullName:"",userType:"creator"})]})}},3129:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(326),o=s(7577),n=s(2056),a=s(2564);function i({isOpen:e,onClose:t,onSuccess:s,phone:i,fullName:l,userType:d="creator"}){let[c,u]=(0,o.useState)(["","","","","",""]),[p,m]=(0,o.useState)(!1),[x,h]=(0,o.useState)(""),[f,g]=(0,o.useState)(!1),[b,y]=(0,o.useState)(0),j=(0,o.useRef)([]),v=(e,t)=>{if(t.length>1)return;let s=[...c];s[e]=t,u(s),t&&e<5&&j.current[e+1]?.focus(),!t&&e>0&&j.current[e-1]?.focus()},w=(e,t)=>{"Backspace"===t.key&&!c[e]&&e>0&&j.current[e-1]?.focus()},P=async()=>{let e=c.join("");if(6!==e.length){h("Please enter a valid 6-digit OTP");return}m(!0),h("");try{let t=await n.authAPI.verifyOTP(i,e,l,d);if(console.log("\uD83D\uDCE1 OTP verification API response:",t),t.success){console.log("✅ OTP verification successful, user data:",t.user),console.log("\uD83D\uDD11 Token received:",t.token?"Yes":"No");try{console.log("\uD83D\uDD04 Waiting for token to be stored..."),await new Promise(e=>setTimeout(e,100)),console.log("\uD83D\uDD04 Creating missing profiles...");let e=await n.authAPI.createMissingProfiles();console.log("✅ Profile creation result:",e)}catch(e){console.error("❌ Profile creation failed:",e),console.warn("⚠️ Profile creation warning - user may not have complete profile setup")}s(t.user||t)}else h(t.error||"OTP verification failed")}catch(e){console.error("OTP verification error:",e),h(e?.message||"OTP verification failed. Please try again.")}finally{m(!1)}},N=async()=>{if(!(b>0)){g(!0),h("");try{let e=await n.authAPI.sendOTP(i);e.success?(y(60),u(["","","","","",""]),h("")):h(e.error||"Failed to resend OTP")}catch(e){console.error("Resend OTP error:",e),h(e?.message||"Failed to resend OTP. Please try again.")}finally{g(!1)}}};return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-poppins-semibold text-textDark",children:"Verify Phone Number"}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-textGray mb-2",children:"We've sent a verification code to:"}),(0,r.jsx)("p",{className:"text-base font-poppins-medium text-textDark",children:i})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-poppins-semibold text-textDark mb-3",children:"Enter 6-digit code"}),(0,r.jsx)("div",{className:"flex gap-3 justify-center",children:c.map((e,t)=>(0,r.jsx)("input",{ref:e=>{j.current[t]=e},type:"text",maxLength:1,value:e,onChange:e=>v(t,e.target.value),onKeyDown:e=>w(t,e),className:"w-12 h-12 text-center border border-gray-300 rounded-lg text-lg font-poppins-semibold focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent",placeholder:""},t))})]}),x&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:x})}),(0,r.jsx)("button",{onClick:P,disabled:p||6!==c.join("").length,className:"w-full py-3 text-white text-sm font-poppins-semibold rounded-lg flex justify-center items-center gap-2 hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",style:{background:a.D.gradientOrange},children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):"Verify OTP"}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-textGray",children:["Didn't receive the code?"," ",b>0?(0,r.jsxs)("span",{className:"text-textDark",children:["Resend in ",b,"s"]}):(0,r.jsx)("button",{onClick:N,disabled:f,className:"text-secondary font-poppins-medium hover:underline disabled:opacity-50",children:f?"Sending...":"Resend OTP"})]})})]})}):null}},2564:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});let r={primary:"#ffffff",secondary:"#f37135",tertiary:"#20536d",textDark:"#1A1D1F",textGray:"#6B7280",borderLight:"#E5E7EB",backgroundLight:"#FFFFFF",chipBlue:"#aad6f3",chipYellow:"#ffd365",placeholder:"#9CA3AF",error:"#EF4444",white:"#FFFFFF",gradientOrange:"linear-gradient(180deg, #FE8F00, #FC5213)",legacyChipBlue:"#B1E5FC",legacyChipYellow:"#FFD88D"}},4629:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(9510);let o=(0,s(8570).createProxy)(String.raw`C:\Influmojo-om\webapp\src\components\ForgotPasswordScreen.tsx#default`);function n(){return(0,r.jsx)(o,{})}},5495:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(9510);s(5023);let o=(0,s(8570).createProxy)(String.raw`C:\Influmojo-om\webapp\src\app\providers.tsx#Providers`);var n=s(9125);let a={title:"Influmojo - Connect with Skilled Influencers",description:"Tap into a pool of talented influencers to bring your projects to life. Collaborate seamlessly and achieve outstanding results."};function i({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Alice:ital,wght@0,400;1,400;1,600&display=swap",rel:"stylesheet"}),(0,r.jsx)("script",{src:"https://accounts.google.com/gsi/client",async:!0,defer:!0})]}),(0,r.jsxs)("body",{className:"font-poppins",children:[(0,r.jsx)(o,{children:e}),(0,r.jsx)(n.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})]})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[262,226,434,56],()=>s(8044));module.exports=r})();